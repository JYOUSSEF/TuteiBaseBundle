<!DOCTYPE html>
<html lang="{{ app.request.locale|split('_')[0] }}" prefix="hx: http://purl.org/NET/hinclude# og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
    <head>
        {% set language = (siteaccess[ezpublish.siteaccess.name].language) %}

        {% if location is not defined %}
            {% set location = null %}
        {% endif %}

        {% if location.pathString is defined %}
            {% set title %}
                {{ render( controller( "tutei:showComponent", { 'name':'Title', 'parameters':{'pathString': location.pathString } } ) ) }}
            {% endset %}
        {% elseif content is defined %}
            {% set title %}
                    {{ content.contentInfo.name }} / (location ID is #{{ location.id }})
            {% endset %}
        {% elseif title is not defined %}
            {% set title %}
                    {{ name|default( 'Home' ) }}
            {% endset %}

        {% endif %}

        {% block meta_title %}
        <title>{{ title }}</title>
        {% endblock %}

        <meta charset="utf-8">
        <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        {% block meta_base %}
        {#
        <meta name="description" content="..." />
        <meta name="author" content="..." />

        <!-- Seems useless -->
        <meta name="keywords" content="..." />
        <!-- For google news, up to 10 keywords separeted by comma -->
        <meta name="news_keywords" content="..." />
        
        #}
        {% endblock %}
        
        {% block meta_og %}
        {#
        <meta content="..." property="og:title" />
        <meta content="..." property="og:description" />
        <meta content="..." property="og:site_name" />
        <meta content="..." property="og:url" />
        <meta content="..." property="og:type" />
        <meta content="..." property="og:image" />
        <meta property=”fb:admins” content=”USER_ID”/>
        #}
        {% endblock %}
        
        {% block meta_twitter %}
        {#
        <meta property=”twitter:card” content="..." />
        <meta property=”twitter:url” content="..." />
        <meta property=”twitter:title” content="..." />
        <meta property=”twitter:description” content="" />
        <meta property=”twitter:image” content="..." />
        #}
        {% endblock %}
        
        {% block meta_author_link %}
        {# 
        <link rel="author" href="..."/>
        #}
        {% endblock %}
        
        {% block meta_link_canonical %}
        {#
        <link rel="canonical" href="..."/>
        #}
        {% endblock %}
        
        {% block meta_link_next_prev %}
        {#
        <link rel='prev' href='http://yoast.com/cat/seo/' />
        <link rel='next' href='http://yoast.com/cat/seo/page/3/' />
        #}
        {% endblock %} 
        
        
        {% image '@TuteiBaseBundle/Resources/public/images/icon.png' %}
            <link rel="shortcut icon" type="image/png" href="{{ asset_url }}" />
        {% endimage %}

        {% block page_head_style %}
            
            <!-- Bootstrap -->
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/tuteibase/css/bootstrap.min.css') }}" />
            <link rel="stylesheet" id="theme" type="text/css" href="{{ asset('bundles/tuteibase/css/bootstrap-theme.min.css') }}" />

            <!-- Include all compiled plugins (below), or include individual files as needed
                Not using bootstrap-theme.min.css -->
            {% stylesheets 
                "bundles/tuteibase/css/font-awesome.min.css"
                "bundles/tuteibase/css/lightbox.css"
                "@TuteiBaseBundle/Resources/public/css/core.css"
                "@TuteiBaseBundle/Resources/public/css/pagelayout.css"
                "@TuteiBaseBundle/Resources/public/css/content.css"
                filter='cssrewrite' %}
            <link rel="stylesheet" href="{{ asset_url }}" />
            {% endstylesheets %}
            
        {% endblock %} 
            
        {% block print_style %}

            {% stylesheets 
                "@TuteiBaseBundle/Resources/public/css/print.css"
                filter='cssrewrite' %}
            <link rel="stylesheet" href="{{ asset_url }}" media="print" />
            {% endstylesheets %}
            
        {% endblock %} 
        
        {% block page_head_script %}    
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->       
        <script src="https://code.jquery.com/jquery.js"></script>
        {% endblock %} 
        
        {% block html5shiv_script %}
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        {% endblock %} 
        
    </head>
    <body itemscope="itemscope" itemtype="http://schema.org/WebPage">
        {% block page_header %} 
        <header class="header container" role="banner" aria-labelledby="banner-desc">
            <p class="sr-only" role="button">
                <a href="#content" accesskey="s">skip to main content (access key = s)</a>
            </p>
            <div class="row">
                {% image '@TuteiBaseBundle/Resources/public/images/logo.png' %}
        
                    {% if app.request.pathInfo is defined and app.request.pathInfo == '/' %}
                        <h1 id="banner-desc" class="col-sm-6 company-logo navbar-brand"><a href="/" accesskey="1"><img alt="Tutei Base" src="{{ asset_url }}" /><span class="sr-only"> (access key = 1)</span></a></h1>
                    {% else %}                
                        <p id="banner-desc" class="col-sm-6 company-logo navbar-brand"><a href="/" accesskey="1"><img alt="Tutei Base" src="{{ asset_url }}" /><span class="sr-only"> (access key = 1)</span></a></p>
                    {% endif %}
                {% endimage %}
                <div class="col-sm-6">
                    <div class="pull-right user-menu">
                        <ul class="list-unstyled list-inline">
                            {{ render( controller( "tutei:showComponent", { 'name': 'UserMenu' } ) ) }}
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        {% endblock %}

        {% block page_topmenu %} 
        <nav class="navbar navbar-default" role="navigation" aria-labelledby="sitenav-desc">
            <h2 class="sr-only"><span id="sitenav-desc">Site</span> Navigation</h2>
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>
                <div class="navbar-collapse collapse top-menu">
                    {% set path_string = '' %}
                    {% if location.pathString is defined %}
                        {% set path_string = location.pathString %}
                    {% endif %}

                    <ul class="nav navbar-nav top-menu-items">
                        {{ render( controller( "tutei:showComponent", { 'name': 'TopMenu','parameters' : {'pathString': path_string } } ) ) }}
                    </ul>
                    <ul class="nav navbar-form pull-right">
                        <li class="dropdown">
                            <button class="btn btn-success dropdown-toggle"
                                    data-toggle="dropdown" accesskey="4"><i class="fa fa-search"></i><span class="sr-only"> Search (access key = 4)</span></button>
                            <ul class="dropdown-menu pull-right" role="menu">
                                <li>
                                    <div class="navbar-form">
                                        <form class="navbar-form navbar-right menu-search" role="search" method="get" action="{{ path( 'ez_legacy', {'module_uri': '/content/search'} ) }}" aria-labelledby="search-desc">
                                            <div class="form-group">
                                                <label for="search_text" class="sr-only">Search this <span id="search-desc">site</span></label>
                                                <input type="text" placeholder="Text" class="form-control inline" id="search_text" name="search_text">

                                                <button type="submit" class="btn btn-success inline">Search</button>
                                            </div>
                                        </form>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>


                </div><!--/.navbar-collapse -->
            </div>

        </nav>
        {% endblock %}

        {% block page_content %} 
        <div class="container">
            <div class="row">
                {% if location.pathString is defined %}
                    {{ render( controller( "tutei:showComponent", { 'name' : 'Banners','parameters' : {'pathString': location.pathString } } ) ) }}
                {% endif %}


                {% set enable_side_menu = false %}
                {% if show_side_menu 
                    and content is defined
                    and content.contentInfo.contentTypeId not in hide_side_menu_type_id_array
                    and location.pathString is defined
                    and location.pathString|split('/')[3] != '' %}

                    {% set enable_side_menu = true %}
                {% endif %}
                
                {% if enable_side_menu %}
                <div class="col-md-3">
                    {{ render( controller( "tutei:showComponent", { 'name':'SideMenu',
                                     'parameters': { 'pathString': location.pathString } } ) ) }}
                    {{ render( controller( "tutei:showComponent",
                                                { 'name':'ExtraInfo',
                                                  'parameters': { 'pathString': location.pathString } } ) ) }}
                </div>                       
                {% endif %} 
                
                <main role="main" id="content" class="col-md-{% if enable_side_menu %}9{% else %}12{% endif %}" tabindex="-1">     
                    {% block breadcrumb %}

                        {% if location.pathString is defined
                                and location.pathString|split('/')[3] != ''  %}

                            {{ render( controller( "tutei:showComponent",
                                                    { 'name':'Breadcrumb',
                                                      'parameters': { 'pathString': location.pathString } } ) ) }}
                        {% endif %}

                    {% endblock %}

                    {% block content %}{% endblock %}

                    {% if location.pathString is defined %}

                        {{ render( controller( "tutei:showComponent", {'name':'Blocks', 'parameters': { 'pathString': location.pathString } } ) ) }}

                    {% endif %}
                    
                </main>

            </div>

        </div> <!-- /container -->

        <hr>
        {% endblock %}
        
        {% block page_footer %} 
        <footer class="container" role="contentinfo" aria-labelledby="footer-desc">
            <p id="footer-desc" class="sr-only">Footer content</p>
            <div class="row">
                <div class="col-md-4">
                    <!-- About -->
                    <h2>About</h2> 
                    <p>TuteiBaseBundle is a clean eZ publish 5 bundle that features common features and also an installer script.</p>                            
                </div><!--/col-md-4--> 

                <div class="col-md-4">
                    <!-- Monthly Newsletter -->

                    <h2 class="headline">Contact Us</h2>
                    <address>
                        101, BaseBundle Street, eZ publish<br>
                        Community, NO <br>
                        Phone: 555 555 5555<br>
                        Fax: 555 555 5555<br>
                        Email: <a class="" href="mailto:nospam@company.com">nospam@company.com</a>

                    </address>
                </div><!--/col-md-4-->

                <div class="col-md-4">
                    <!-- Stay Connected -->
                    <div class="headline"><h2>Stay Connected</h2></div> 
                    <div class="social-bar">
                        <a href="https://www.facebook.com/thiagocamposviana" target="_blank">
                            <span class="fa-stack fa-lg icon-facebook">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="https://twitter.com/tcv_br" target="_blank">
                            <span class="fa-stack fa-lg icon-twitter">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="https://plus.google.com/116026022246221247074/" target="_blank">
                            <span class="fa-stack fa-lg icon-google-plus">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="mailto:thiagocamposviana@gmail.com">
                            <span class="fa-stack fa-lg icon-rss">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="https://github.com/thiagocamposviana/TuteiBaseBundle">
                            <span class="fa-stack fa-lg icon-github">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github-alt fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </div>
                </div><!--/col-md-4-->

            </div>          

            <hr>

            <div class="copyright">
                <p class="pull-right"><a href="#top">Back to top</a></p>
                <p>Created by <a href="mailto:thiagocamposviana@gmail.com">Thiago Campos Viana</a></p>

            </div>

        </footer>
        {% endblock %}

        {% block page_footer_script %}  
        
            {% javascripts
                '@eZDemoBundle/Resources/public/js/hinclude.js'
                "@TuteiBaseBundle/Resources/public/js/bootstrap.min.js"
                "@TuteiBaseBundle/Resources/public/js/jquery.cookie.js"
                "@TuteiBaseBundle/Resources/public/js/lightbox-2.6.min.js"
                "@TuteiBaseBundle/Resources/public/js/project.js"
            %}
            <script type="text/javascript" src="{{ asset_url }}"></script>
            {% endjavascripts %}
        
        {% endblock %}        
        
        {% block google_analytics %}  
            
            {% if google_analytics_id is not null and
                  google_analytics_site is not null %}
            <script>
                (function(i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o),
                            m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                ga('create', '{{google_analytics_id}}', '{{google_analytics_site}}');
                ga('send', 'pageview');

            </script>
            {% endif %}
            
        {% endblock %}

    </body>
</html>